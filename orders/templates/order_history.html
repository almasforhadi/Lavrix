{% extends "base.html" %}
{% load static %}
{% block body_class %}order-history-page{% endblock %}
{% block content %}
<div class="container py-5">
  <h2 class="mb-4 fw-bold text-center text-primary">
    <i class="fa-solid fa-clock-rotate-left"></i> Order History
  </h2>

  {% if orders %}
  <div class="table-responsive shadow rounded-4">
    <table class="table table-hover align-middle mb-0">
      <thead class="table-light">
        <tr>
          <th scope="col">#</th>
          <th scope="col">Date</th>
          <th scope="col">Total Amount</th>
          <th scope="col">Status</th>
          <th scope="col">Action</th>
        </tr>
      </thead>
      <tbody>
        {% for order in orders %}
        <tr>
          <td class="fw-semibold">{{ order.id }}</td>
          <td>{{ order.created_at|date:"M d, Y h:i A" }}</td>
          <td>à§³ {{ order.total_price }}</td>
          <td>
            {% if order.status == "delivered" %}
            <span class="badge bg-success">{{ order.status }}</span>
            {% elif order.status == "pending" %}
            <span class="badge bg-warning text-dark">{{ order.status }}</span>
            {% elif order.status == "cancelled" %}
            <span class="badge bg-danger">{{  order.status|title  }}</span>
            {% else %}
            <span class="badge bg-secondary">{{  order.status|title  }}</span>
            {% endif %}
          </td>
          <td>
            <a href="{% url 'orders:order_detail' order.id %}" class="btn btn-sm btn-outline-primary rounded-pill">
              <i class="fa-solid fa-eye"></i> View
            </a>
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>

  {% else %}
  <div class="text-center py-5">
    <img src="{% static 'images/empty-image.png' %}" alt="No Orders" width="180" class="mb-3">
    <h5 class="text-muted">No orders found!</h5>
    <a href="{% url 'shop:product_list' %}" class="btn btn-primary mt-3 rounded-pill px-4">
      <i class="fa-solid fa-cart-shopping"></i> Start Shopping
    </a>
  </div>
  {% endif %}
</div>
{% endblock %}
